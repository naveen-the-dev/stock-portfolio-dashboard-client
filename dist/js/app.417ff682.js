(function(){"use strict";var e={3805:function(e,l,a){var t=a(5130),o=a(6768),s=a(144),n=a(4232),r=(a(4114),a(8111),a(116),a(7588),a(1701),a(8237),a(4373));const i=r.A.create({baseURL:"https://stock-portfolio-dashboard-server.onrender.com/api",timeout:15e3});i.interceptors.response.use(e=>e,e=>(console.error("API ERROR:",e.response?.data||e.message),Promise.reject(e)));var c=i;const u=()=>c.get("/stocks"),d=e=>c.post("/stocks",e),b=()=>c.post("/stocks/refresh-prices"),p=()=>c.get("/holdings"),v=()=>c.get("/transactions"),k=e=>c.post("/transactions",e),m=(e,l)=>c.put(`/transactions/${e}`,l),f=e=>c.delete(`/transactions/${e}`),g=(0,s.Kh)({loading:!1,stocks:[],holdings:[],transactions:[],lastUpdated:null}),_=async()=>{try{g.loading=!0;const e=await u();g.stocks=e.data,await b();const l=await u();g.stocks=l.data;const a=await p();g.holdings=a.data;const t=await v();g.transactions=t.data,g.lastUpdated=new Date}catch(e){console.error("BOOTSTRAP ERROR:",e)}finally{g.loading=!1}},y=(0,o.EW)(()=>g.holdings.map(e=>{const l=g.stocks.find(l=>l._id===e.stockId),a=l?.latestPrice||0,t=e.quantity*a,o=e.quantity*e.avgPrice,s=t-o;return{...e,stock:l,latestPrice:a,invested:o,currentValue:t,pl:s,plPercent:o?(s/o*100).toFixed(2):0}})),h=(0,o.EW)(()=>{const e=y.value.reduce((e,l)=>e+l.invested,0),l=y.value.reduce((e,l)=>e+l.currentValue,0),a=l-e;return{invested:e,current:l,pl:a,plPercent:e?(a/e*100).toFixed(2):0}}),F=(0,o.EW)(()=>{const e={};return g.transactions.forEach(l=>{e[l.stockId]??=[],e[l.stockId].push(l)}),e});var w={state:g,bootstrapPortfolio:_,enrichedHoldings:y,portfolioSummary:h,transactionsByStock:F},L=a(7477);const P={class:"d-flex vh-100"},x={class:"bg-light shadow-sm d-flex flex-column p-2 sidebar-container"},C={class:"flex-grow-1 d-flex flex-column"},S={class:"navbar navbar-light bg-white shadow-sm sticky-top px-3"},V={key:0,class:"d-flex gap-4 align-items-center"},E={class:"text-center"},W={class:"text-center"},A={class:"text-center"},I={class:"flex-grow-1 overflow-auto p-3"},R={key:0,class:"d-flex justify-content-center align-items-center h-100"};var U={__name:"App",setup(e){const l=w,a=(0,o.EW)(()=>l.portfolioSummary.value);return(0,o.sV)(()=>{l.bootstrapPortfolio()}),(e,t)=>{const r=(0,o.g2)("router-link"),i=(0,o.g2)("el-icon"),c=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",P,[(0,o.Lk)("aside",x,[(0,o.bF)(r,{to:"/",class:"sidebar-icon",title:"Dashboard"},{default:(0,o.k6)(()=>[...t[0]||(t[0]=[(0,o.Lk)("i",{class:"bi bi-speedometer2"},null,-1)])]),_:1}),(0,o.bF)(r,{to:"/holdings",class:"sidebar-icon",title:"Holdings"},{default:(0,o.k6)(()=>[...t[1]||(t[1]=[(0,o.Lk)("i",{class:"bi bi-table"},null,-1)])]),_:1}),(0,o.bF)(r,{to:"/transactions",class:"sidebar-icon",title:"Transactions"},{default:(0,o.k6)(()=>[...t[2]||(t[2]=[(0,o.Lk)("i",{class:"bi bi-arrow-left-right"},null,-1)])]),_:1}),(0,o.bF)(r,{to:"/stocks",class:"sidebar-icon",title:"Stocks"},{default:(0,o.k6)(()=>[...t[3]||(t[3]=[(0,o.Lk)("i",{class:"bi bi-bar-chart-line"},null,-1)])]),_:1})]),(0,o.Lk)("div",C,[(0,o.Lk)("nav",S,[t[10]||(t[10]=(0,o.Lk)("span",{class:"navbar-brand fw-bold"},"My Stock Portfolio",-1)),(0,s.R1)(l).state.loading?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",V,[(0,o.Lk)("div",E,[t[4]||(t[4]=(0,o.Lk)("small",{class:"text-muted"},"Invested",-1)),t[5]||(t[5]=(0,o.Lk)("br",null,null,-1)),(0,o.Lk)("strong",null,"₹"+(0,n.v_)(a.value.invested.toLocaleString()),1)]),(0,o.Lk)("div",W,[t[6]||(t[6]=(0,o.Lk)("small",{class:"text-muted"},"Current",-1)),t[7]||(t[7]=(0,o.Lk)("br",null,null,-1)),(0,o.Lk)("strong",null,"₹"+(0,n.v_)(a.value.current.toLocaleString()),1)]),(0,o.Lk)("div",A,[t[8]||(t[8]=(0,o.Lk)("small",{class:"text-muted"},"P/L",-1)),t[9]||(t[9]=(0,o.Lk)("br",null,null,-1)),(0,o.Lk)("strong",{class:(0,n.C4)(a.value.pl>=0?"pos":"neg")}," ₹"+(0,n.v_)(a.value.pl.toLocaleString()),3)])]))]),(0,o.Lk)("div",I,[(0,s.R1)(l).state.loading?((0,o.uX)(),(0,o.CE)("div",R,[(0,o.bF)(i,{class:"is-loading",size:"32"},{default:(0,o.k6)(()=>[(0,o.bF)((0,s.R1)(L.Rhj))]),_:1})])):((0,o.uX)(),(0,o.Wv)(c,{key:1}))])])])}}},T=a(1241);const O=(0,T.A)(U,[["__scopeId","data-v-155222a2"]]);var j=O,q=a(8728),X=a(3861);const z={class:"container-fluid dashboard-root"},K={class:"kpi-value"},D={class:"kpi-value"},M={class:"kpi-value"};var B={__name:"AdminDashboard",setup(e){const l=(0,s.KR)(null);let a=null;const t=(0,o.EW)(()=>w.enrichedHoldings.value),r=(0,o.EW)(()=>w.portfolioSummary.value),i=(0,o.EW)(()=>{const e={};return t.value.forEach(l=>{e[l.stock.sector]??={sector:l.stock.sector,invested:0,current:0},e[l.stock.sector].invested+=l.invested,e[l.stock.sector].current+=l.currentValue}),Object.values(e).map(e=>{const l=e.current-e.invested;return{...e,pl:l,plPercent:(l/e.invested*100).toFixed(2)}})}),c=(0,o.EW)(()=>[...t.value].map(e=>({symbol:e.stock.symbol,pl:e.pl,plPercent:e.plPercent})).sort((e,l)=>Math.abs(l.pl)-Math.abs(e.pl)).slice(0,5)),u=()=>{console.log("jyi"),t.value.length&&(a?.destroy(),a=new X.Ay(l.value,{type:"bar",data:{labels:t.value.map(e=>e.stock.symbol),datasets:[{label:"P/L ₹",data:t.value.map(e=>e.pl),backgroundColor:t.value.map(e=>e.pl>=0?"#16a34a":"#dc2626")}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0}}}}))};(0,o.sV)(async()=>{u()}),(0,o.wB)(()=>t.value,e=>{e?.length>0&&u()},{deep:!0}),(0,o.xo)(()=>a?.destroy());const d=e=>Number(e).toLocaleString(void 0,{maximumFractionDigits:2});return(e,a)=>{const s=(0,o.g2)("el-card"),u=(0,o.g2)("el-col"),b=(0,o.g2)("el-row"),p=(0,o.g2)("el-table-column"),v=(0,o.g2)("el-table");return(0,o.uX)(),(0,o.CE)("div",z,[(0,o.bF)(b,{gutter:16,class:"mb-4"},{default:(0,o.k6)(()=>[(0,o.bF)(u,{xs:24,md:6},{default:(0,o.k6)(()=>[(0,o.bF)(s,{class:"kpi-card"},{default:(0,o.k6)(()=>[a[0]||(a[0]=(0,o.Lk)("div",{class:"kpi-label"},"Total Invested",-1)),(0,o.Lk)("div",K,"₹"+(0,n.v_)(d(r.value.invested)),1)]),_:1})]),_:1}),(0,o.bF)(u,{xs:24,md:6},{default:(0,o.k6)(()=>[(0,o.bF)(s,{class:"kpi-card"},{default:(0,o.k6)(()=>[a[1]||(a[1]=(0,o.Lk)("div",{class:"kpi-label"},"Current Value",-1)),(0,o.Lk)("div",D,"₹"+(0,n.v_)(d(r.value.current)),1)]),_:1})]),_:1}),(0,o.bF)(u,{xs:24,md:6},{default:(0,o.k6)(()=>[(0,o.bF)(s,{class:"kpi-card"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",{class:(0,n.C4)(["kpi-label",r.value.pl>=0?"pos":"neg"])}," Total P/L ",2),(0,o.Lk)("div",{class:(0,n.C4)(["kpi-value",r.value.pl>=0?"pos":"neg"])}," ₹"+(0,n.v_)(d(r.value.pl))+" ("+(0,n.v_)(r.value.plPercent)+"%) ",3)]),_:1})]),_:1}),(0,o.bF)(u,{xs:24,md:6},{default:(0,o.k6)(()=>[(0,o.bF)(s,{class:"kpi-card"},{default:(0,o.k6)(()=>[a[2]||(a[2]=(0,o.Lk)("div",{class:"kpi-label"},"Holdings",-1)),(0,o.Lk)("div",M,(0,n.v_)(t.value.length),1)]),_:1})]),_:1})]),_:1}),(0,o.bF)(b,{gutter:16,class:"mb-4"},{default:(0,o.k6)(()=>[(0,o.bF)(u,{xs:24,md:12},{default:(0,o.k6)(()=>[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[a[3]||(a[3]=(0,o.Lk)("h6",{class:"fw-bold mb-2"},"Sector Performance",-1)),(0,o.bF)(v,{data:i.value,size:"small",stripe:""},{default:(0,o.k6)(()=>[(0,o.bF)(p,{prop:"sector",label:"Sector"}),(0,o.bF)(p,{label:"Invested",align:"right"},{default:(0,o.k6)(({row:e})=>[(0,o.eW)(" ₹"+(0,n.v_)(d(e.invested)),1)]),_:1}),(0,o.bF)(p,{label:"P/L %",align:"right"},{default:(0,o.k6)(({row:e})=>[(0,o.Lk)("span",{class:(0,n.C4)(e.pl>=0?"pos":"neg")},(0,n.v_)(e.plPercent)+"% ",3)]),_:1})]),_:1},8,["data"])]),_:1})]),_:1}),(0,o.bF)(u,{xs:24,md:12},{default:(0,o.k6)(()=>[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[a[4]||(a[4]=(0,o.Lk)("h6",{class:"fw-bold mb-2"},"Top Movers",-1)),(0,o.bF)(v,{data:c.value,size:"small",stripe:""},{default:(0,o.k6)(()=>[(0,o.bF)(p,{prop:"symbol",label:"Stock"}),(0,o.bF)(p,{label:"P/L %",align:"right"},{default:(0,o.k6)(({row:e})=>[(0,o.Lk)("span",{class:(0,n.C4)(e.pl>=0?"pos":"neg")},(0,n.v_)(e.plPercent)+"% ",3)]),_:1}),(0,o.bF)(p,{label:"P/L ₹",align:"right"},{default:(0,o.k6)(({row:e})=>[(0,o.Lk)("span",{class:(0,n.C4)(e.pl>=0?"pos":"neg")}," ₹"+(0,n.v_)(d(e.pl)),3)]),_:1})]),_:1},8,["data"])]),_:1})]),_:1})]),_:1}),(0,o.bF)(s,null,{default:(0,o.k6)(()=>[a[5]||(a[5]=(0,o.Lk)("h6",{class:"fw-bold mb-3"},"Stock P/L Comparison",-1)),(0,o.Lk)("canvas",{ref_key:"barChartRef",ref:l,class:"bar-canvas"},null,512)]),_:1})])}}};const H=(0,T.A)(B,[["__scopeId","data-v-3f4977be"]]);var N=H;const Q={class:"container-fluid"},Y={class:"d-flex justify-content-between align-items-center mb-3"},$={class:"text-muted"};var G={__name:"HoldingsPage",setup(e){const l=(0,q.rd)();(0,o.sV)(async()=>{w.state.stocks.length||await w.bootstrapPortfolio()});const a=(0,o.EW)(()=>w.enrichedHoldings.value),t=e=>`₹${Number(e).toLocaleString(void 0,{maximumFractionDigits:2})}`,s=e=>{l.push({path:"/transactions",query:{stockId:e.stockId}})};return(e,l)=>{const r=(0,o.g2)("el-card"),i=(0,o.g2)("el-table-column"),c=(0,o.g2)("el-table");return(0,o.uX)(),(0,o.CE)("div",Q,[(0,o.Lk)("div",Y,[l[0]||(l[0]=(0,o.Lk)("h5",{class:"fw-bold mb-0"},"Holdings",-1)),(0,o.Lk)("small",$,(0,n.v_)(a.value.length)+" stocks ",1)]),a.value.length?((0,o.uX)(),(0,o.Wv)(r,{key:1},{default:(0,o.k6)(()=>[(0,o.bF)(c,{data:a.value,stripe:"",border:"",size:"small",class:"clickable-table",onRowClick:s},{default:(0,o.k6)(()=>[(0,o.bF)(i,{prop:"stock.symbol",label:"Stock",sortable:""}),(0,o.bF)(i,{prop:"stock.sector",label:"Sector",sortable:""}),(0,o.bF)(i,{prop:"quantity",label:"Qty",align:"right",sortable:""}),(0,o.bF)(i,{label:"Avg Price",align:"right"},{default:(0,o.k6)(({row:e})=>[(0,o.eW)((0,n.v_)(t(e.avgPrice)),1)]),_:1}),(0,o.bF)(i,{label:"Invested",align:"right"},{default:(0,o.k6)(({row:e})=>[(0,o.eW)((0,n.v_)(t(e.invested)),1)]),_:1}),(0,o.bF)(i,{label:"Current Price",align:"right"},{default:(0,o.k6)(({row:e})=>[(0,o.eW)((0,n.v_)(t(e.latestPrice)),1)]),_:1}),(0,o.bF)(i,{label:"Current Value",align:"right"},{default:(0,o.k6)(({row:e})=>[(0,o.Lk)("span",{class:(0,n.C4)(e.pl>=0?"pos":"neg")},(0,n.v_)(t(e.currentValue)),3)]),_:1}),(0,o.bF)(i,{label:"P/L",align:"right"},{default:(0,o.k6)(({row:e})=>[(0,o.Lk)("span",{class:(0,n.C4)(e.pl>=0?"pos":"neg")},(0,n.v_)(t(e.pl)),3)]),_:1}),(0,o.bF)(i,{label:"P/L %",align:"right"},{default:(0,o.k6)(({row:e})=>[(0,o.eW)((0,n.v_)(e.plPercent)+"% ",1)]),_:1})]),_:1},8,["data"])]),_:1})):((0,o.uX)(),(0,o.Wv)(r,{key:0,class:"text-center text-muted p-4"},{default:(0,o.k6)(()=>[...l[1]||(l[1]=[(0,o.eW)(" No holdings yet. Add transactions to create holdings. ",-1)])]),_:1}))])}}};const Z=(0,T.A)(G,[["__scopeId","data-v-1849acd1"]]);var J=Z,ee=(a(2489),{__name:"UserManagementPage",setup(e){const l=(0,s.KR)([{email:"admin@example.com",role:"Admin"},{email:"user1@example.com",role:"User"},{email:"user2@example.com",role:"User"}]),a=e=>{l.value=l.value.filter(l=>l.email!==e.email),alert(`${e.email} deleted (frontend only)`)};return(e,t)=>{const s=(0,o.g2)("el-table-column"),n=(0,o.g2)("el-button"),r=(0,o.g2)("el-table");return(0,o.uX)(),(0,o.CE)("div",null,[t[1]||(t[1]=(0,o.Lk)("h2",null,"User Management",-1)),(0,o.bF)(r,{data:l.value,stripe:"",style:{width:"100%"},class:"mt-3"},{default:(0,o.k6)(()=>[(0,o.bF)(s,{prop:"email",label:"Email",width:"250"}),(0,o.bF)(s,{prop:"role",label:"Role",width:"100"}),(0,o.bF)(s,{label:"Actions",width:"120"},{default:(0,o.k6)(e=>[(0,o.bF)(n,{type:"danger",size:"small",onClick:l=>a(e.row)},{default:(0,o.k6)(()=>[...t[0]||(t[0]=[(0,o.eW)("Delete",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])])}}});const le=ee;var ae=le,te=a(1219),oe=a(3851);const se={class:"container-fluid"},ne={class:"d-flex justify-content-between align-items-center mb-3"},re={class:"drawer-actions"};var ie={__name:"TransactionsPage",setup(e){const l=(0,s.KR)(!1),a=(0,s.KR)(!1),t=(0,s.KR)(null),r=(0,s.KR)([]),i=()=>({stockId:"",type:"BUY",quantity:1,price:0}),c=(0,s.KR)(i()),u=(0,o.EW)(()=>w.state.stocks),d=async()=>{const e=await v();r.value=e.data.map(e=>{const l=u.value.find(l=>l._id===e.stockId);return{id:e._id,stockId:e.stockId,symbol:l?.symbol||"-",type:e.type,quantity:e.quantity,price:e.price,date:new Date(e.createdAt).toLocaleDateString()}})},b=()=>{a.value=!1,t.value=null,c.value=i(),l.value=!0},p=e=>{a.value=!0,t.value=e.id,c.value={stockId:e.stockId,type:e.type,quantity:e.quantity,price:e.price},l.value=!0},g=async()=>{try{const e={stockId:c.value.stockId,type:c.value.type,quantity:c.value.quantity,price:c.value.price};a.value?await m(t.value,e):await k(e),l.value=!1,te.nk.success("Transaction saved"),await w.bootstrapPortfolio(),await d()}catch(e){te.nk.error(e.response?.data?.message||"Failed to save transaction")}},_=async e=>{try{await f(e.id),r.value=r.value.filter(l=>l.id!==e.id),oe.df.success({title:"Deleted",message:"Transaction removed"}),await w.bootstrapPortfolio()}catch(l){te.nk.error("Failed to delete transaction")}};return(0,o.sV)(async()=>{await d()}),(e,t)=>{const s=(0,o.g2)("el-button"),i=(0,o.g2)("el-table-column"),d=(0,o.g2)("el-table"),v=(0,o.g2)("el-card"),k=(0,o.g2)("el-option"),m=(0,o.g2)("el-select"),f=(0,o.g2)("el-form-item"),y=(0,o.g2)("el-input-number"),h=(0,o.g2)("el-form"),F=(0,o.g2)("el-drawer");return(0,o.uX)(),(0,o.CE)("div",se,[(0,o.Lk)("div",ne,[t[7]||(t[7]=(0,o.Lk)("h5",{class:"fw-bold mb-0"},"Transactions",-1)),(0,o.bF)(s,{type:"primary",onClick:b},{default:(0,o.k6)(()=>[...t[6]||(t[6]=[(0,o.eW)(" + Add Transaction ",-1)])]),_:1})]),(0,o.bF)(v,null,{default:(0,o.k6)(()=>[(0,o.bF)(d,{data:r.value,stripe:"",border:"",size:"small"},{default:(0,o.k6)(()=>[(0,o.bF)(i,{prop:"date",label:"Date"}),(0,o.bF)(i,{prop:"symbol",label:"Stock"}),(0,o.bF)(i,{prop:"type",label:"Action"}),(0,o.bF)(i,{prop:"quantity",label:"Qty",align:"right"}),(0,o.bF)(i,{label:"Price",align:"right"},{default:(0,o.k6)(({row:e})=>[(0,o.eW)(" ₹"+(0,n.v_)(e.price),1)]),_:1}),(0,o.bF)(i,{label:"Value",align:"right"},{default:(0,o.k6)(({row:e})=>[(0,o.eW)(" ₹"+(0,n.v_)(e.quantity*e.price),1)]),_:1}),(0,o.bF)(i,{width:"90",align:"center"},{default:(0,o.k6)(({row:e})=>[(0,o.bF)(s,{size:"small",circle:"",onClick:l=>p(e)},{default:(0,o.k6)(()=>[...t[8]||(t[8]=[(0,o.Lk)("i",{class:"bi bi-pencil"},null,-1)])]),_:1},8,["onClick"]),(0,o.bF)(s,{size:"small",circle:"",type:"danger",onClick:l=>_(e)},{default:(0,o.k6)(()=>[...t[9]||(t[9]=[(0,o.Lk)("i",{class:"bi bi-trash"},null,-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1}),(0,o.bF)(F,{modelValue:l.value,"onUpdate:modelValue":t[5]||(t[5]=e=>l.value=e),title:a.value?"Edit Transaction":"Add Transaction",direction:"rtl",size:"420px","destroy-on-close":""},{default:(0,o.k6)(()=>[(0,o.bF)(h,{model:c.value,"label-width":"110px",size:"small"},{default:(0,o.k6)(()=>[(0,o.bF)(f,{label:"Stock"},{default:(0,o.k6)(()=>[(0,o.bF)(m,{modelValue:c.value.stockId,"onUpdate:modelValue":t[0]||(t[0]=e=>c.value.stockId=e),filterable:"",placeholder:"Select stock",style:{width:"100%"}},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(u.value,e=>((0,o.uX)(),(0,o.Wv)(k,{key:e._id,label:e.symbol,value:e._id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),(0,o.bF)(f,{label:"Action"},{default:(0,o.k6)(()=>[(0,o.bF)(m,{modelValue:c.value.type,"onUpdate:modelValue":t[1]||(t[1]=e=>c.value.type=e),style:{width:"100%"}},{default:(0,o.k6)(()=>[(0,o.bF)(k,{label:"BUY",value:"BUY"}),(0,o.bF)(k,{label:"SELL",value:"SELL"})]),_:1},8,["modelValue"])]),_:1}),(0,o.bF)(f,{label:"Quantity"},{default:(0,o.k6)(()=>[(0,o.bF)(y,{modelValue:c.value.quantity,"onUpdate:modelValue":t[2]||(t[2]=e=>c.value.quantity=e),min:1,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),(0,o.bF)(f,{label:"Price"},{default:(0,o.k6)(()=>[(0,o.bF)(y,{modelValue:c.value.price,"onUpdate:modelValue":t[3]||(t[3]=e=>c.value.price=e),min:1,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),(0,o.Lk)("div",re,[(0,o.bF)(s,{onClick:t[4]||(t[4]=e=>l.value=!1)},{default:(0,o.k6)(()=>[...t[10]||(t[10]=[(0,o.eW)("Cancel",-1)])]),_:1}),(0,o.bF)(s,{type:"primary",onClick:g},{default:(0,o.k6)(()=>[(0,o.eW)((0,n.v_)(a.value?"Update":"Save"),1)]),_:1})])]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}};const ce=(0,T.A)(ie,[["__scopeId","data-v-240240bb"]]);var ue=ce;const de={class:"container-fluid"},be={class:"d-flex justify-content-between align-items-center mb-3"},pe={class:"drawer-actions"};var ve={__name:"StockPage",setup(e){const l=(0,o.EW)(()=>w.state.stocks),a=(0,s.KR)(!1),t=()=>({symbol:"",name:"",sector:""}),r=(0,s.KR)(t()),i=["IT","Finance","Banking","Energy","FMCG","Pharma","Auto","Metal"],c=()=>{r.value=t(),a.value=!0},u=async()=>{try{if(!r.value.symbol||!r.value.name||!r.value.sector)return void te.nk.warning("All fields are required");const e=await d({symbol:r.value.symbol,name:r.value.name,sector:r.value.sector});w.state.stocks.unshift(e.data),a.value=!1,te.nk.success("Stock added")}catch(e){te.nk.error(e.response?.data?.message||"Failed to add stock")}},b=e=>e?new Date(e).toLocaleString():"-";return(e,t)=>{const s=(0,o.g2)("el-button"),d=(0,o.g2)("el-table-column"),p=(0,o.g2)("el-table"),v=(0,o.g2)("el-card"),k=(0,o.g2)("el-input"),m=(0,o.g2)("el-form-item"),f=(0,o.g2)("el-option"),g=(0,o.g2)("el-select"),_=(0,o.g2)("el-form"),y=(0,o.g2)("el-drawer");return(0,o.uX)(),(0,o.CE)("div",de,[(0,o.Lk)("div",be,[t[7]||(t[7]=(0,o.Lk)("h5",{class:"fw-bold mb-0"},"Stocks",-1)),(0,o.bF)(s,{type:"primary",onClick:c},{default:(0,o.k6)(()=>[...t[6]||(t[6]=[(0,o.eW)(" + Add Stock ",-1)])]),_:1})]),(0,o.bF)(v,null,{default:(0,o.k6)(()=>[(0,o.bF)(p,{data:l.value,stripe:"",border:"",size:"small"},{default:(0,o.k6)(()=>[(0,o.bF)(d,{prop:"symbol",label:"Symbol"}),(0,o.bF)(d,{prop:"name",label:"Name"}),(0,o.bF)(d,{prop:"sector",label:"Sector"}),(0,o.bF)(d,{label:"Latest Price",align:"right"},{default:(0,o.k6)(({row:e})=>[(0,o.eW)(" ₹"+(0,n.v_)(e.latestPrice??"-"),1)]),_:1}),(0,o.bF)(d,{label:"Updated At",align:"center"},{default:(0,o.k6)(({row:e})=>[(0,o.eW)((0,n.v_)(b(e.updatedAt)),1)]),_:1})]),_:1},8,["data"])]),_:1}),(0,o.bF)(y,{modelValue:a.value,"onUpdate:modelValue":t[5]||(t[5]=e=>a.value=e),title:"Add Stock",direction:"rtl",size:"420px","destroy-on-close":""},{default:(0,o.k6)(()=>[(0,o.bF)(_,{model:r.value,"label-width":"110px",size:"small"},{default:(0,o.k6)(()=>[(0,o.bF)(m,{label:"Symbol"},{default:(0,o.k6)(()=>[(0,o.bF)(k,{modelValue:r.value.symbol,"onUpdate:modelValue":t[0]||(t[0]=e=>r.value.symbol=e),placeholder:"Eg: TCS, INFY",onInput:t[1]||(t[1]=e=>r.value.symbol=r.value.symbol.toUpperCase())},null,8,["modelValue"])]),_:1}),(0,o.bF)(m,{label:"Name"},{default:(0,o.k6)(()=>[(0,o.bF)(k,{modelValue:r.value.name,"onUpdate:modelValue":t[2]||(t[2]=e=>r.value.name=e),placeholder:"Company name"},null,8,["modelValue"])]),_:1}),(0,o.bF)(m,{label:"Sector"},{default:(0,o.k6)(()=>[(0,o.bF)(g,{modelValue:r.value.sector,"onUpdate:modelValue":t[3]||(t[3]=e=>r.value.sector=e),style:{width:"100%"}},{default:(0,o.k6)(()=>[((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(i,e=>(0,o.bF)(f,{key:e,label:e,value:e},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),(0,o.Lk)("div",pe,[(0,o.bF)(s,{onClick:t[4]||(t[4]=e=>a.value=!1)},{default:(0,o.k6)(()=>[...t[8]||(t[8]=[(0,o.eW)("Cancel",-1)])]),_:1}),(0,o.bF)(s,{type:"primary",onClick:u},{default:(0,o.k6)(()=>[...t[9]||(t[9]=[(0,o.eW)(" Save ",-1)])]),_:1})])]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}};const ke=(0,T.A)(ve,[["__scopeId","data-v-aee39dd2"]]);var me=ke;const fe=[{path:"/",redirect:"/dashboard"},{path:"/dashboard",component:N},{path:"/holdings",component:J},{path:"/user-management",component:ae},{path:"/transactions",component:ue},{path:"/stocks",component:me}],ge=(0,q.aE)({history:(0,q.LA)(),routes:fe});var _e=ge,ye=(a(323),a(6209));a(4188);(0,t.Ef)(j).use(_e).use(ye.A).mount("#app")}},l={};function a(t){var o=l[t];if(void 0!==o)return o.exports;var s=l[t]={exports:{}};return e[t].call(s.exports,s,s.exports,a),s.exports}a.m=e,function(){var e=[];a.O=function(l,t,o,s){if(!t){var n=1/0;for(u=0;u<e.length;u++){t=e[u][0],o=e[u][1],s=e[u][2];for(var r=!0,i=0;i<t.length;i++)(!1&s||n>=s)&&Object.keys(a.O).every(function(e){return a.O[e](t[i])})?t.splice(i--,1):(r=!1,s<n&&(n=s));if(r){e.splice(u--,1);var c=o();void 0!==c&&(l=c)}}return l}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[t,o,s]}}(),function(){a.n=function(e){var l=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(l,{a:l}),l}}(),function(){a.d=function(e,l){for(var t in l)a.o(l,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:l[t]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(l){return 0===e[l]};var l=function(l,t){var o,s,n=t[0],r=t[1],i=t[2],c=0;if(n.some(function(l){return 0!==e[l]})){for(o in r)a.o(r,o)&&(a.m[o]=r[o]);if(i)var u=i(a)}for(l&&l(t);c<n.length;c++)s=n[c],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(u)},t=self["webpackChunkstock_portfolio_dashboard"]=self["webpackChunkstock_portfolio_dashboard"]||[];t.forEach(l.bind(null,0)),t.push=l.bind(null,t.push.bind(t))}();var t=a.O(void 0,[504],function(){return a(3805)});t=a.O(t)})();
//# sourceMappingURL=app.417ff682.js.map